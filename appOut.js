var Calculator;!function(t){"use strict"}(Calculator||(Calculator={}));var Calculator;!function(t){var e;!function(t){"use strict";function e(e,n,i,r,o){var a=t.length(n,i),s=Math.atan2(i.y-n.y,i.x-n.x),c=Math.acos(a/(2*r)),u={x:n.x+r*Math.cos(s+c),y:n.y+r*Math.sin(s+c)},h={x:n.x+r*Math.cos(s-c),y:n.y+r*Math.sin(s-c)},p=t.length(e,u),d=t.length(e,h);return 0==o?p>d?p:d:1==o?d>p?p:d:void 0}function n(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function i(e,n,i){var r={x:n.x+(i.x-n.x)/2,y:n.y+(i.y-n.y)/2};return t.length(e,r)}!function(t){t[t.high=0]="high",t[t.low=1]="low"}(t.CircleCrossMode||(t.CircleCrossMode={}));t.CircleCrossMode;t.circleCross=e,t.length=n,t.distPointLine=i}(e=t.Euclidean||(t.Euclidean={}))}(Calculator||(Calculator={}));var Calculator;!function(t){var e;!function(t){"use strict";function e(t,e){return 2*Math.PI*Math.sqrt(Math.pow(t,3)/e)}function n(t,e){return Math.pow(Math.pow(e,2)*t/(4*Math.pow(Math.PI,2)),1/3)}function i(e,n,i){return t.period(n,i)*Math.asin(e/n)/Math.PI}function r(t,e,n){return Math.sqrt(n/t)*(Math.sqrt(2*e/(t+e))-1)}function o(t,e,n){return Math.sqrt(n/e)*(1-Math.sqrt(2*t/(t+e)))}function a(t,e,n){return t/(1-e/n)}t.period=e,t.sma=n,t.nightTime=i,t.hohmannStartDV=r,t.hohmannFinishDV=o,t.slidePhaseAngle=a}(e=t.Orbital||(t.Orbital={}))}(Calculator||(Calculator={}));var Calculator;!function(t){var e;!function(e){"use strict";function n(t,e){for(var n=[],i=0;t>i;i++)n.push({x:e*Math.cos(2*Math.PI/t*i),y:e*Math.sin(2*Math.PI/t*i)});return n}function i(t,n){for(var i=[],r=e.position(t,n),o=0;t>o;o++)i.push(d.length(r[0],r[o]));return i}function r(t,n,i,r){for(var o=[],a=e.position(n,i),s=0;n>s;s++)o.push(e.distance(n,i)[s]<=r&&d.distPointLine({x:0,y:0},a[0],a[s])>t);return o}function o(t,n,i,r){return n>=3&&e.connectability(t,n,i,r)[1]}function a(t,n,i){var r=e.position(t,n);return d.circleCross({x:0,y:0},r[0],r[1],i,0)}function s(t,e,n){var i=t;for(var r in e)i+=e[r]*n[r];return i}function c(t,e,n,i,r,o){return s(t,e,n)*l.nightTime(i,o,r)}function u(t,e,n,i,r,o){var a=l.period(o,r),c=l.nightTime(i,o,r);return s(t,e,n)*a/(a-c)}function h(t,e,n,i,r){var o=l.period(r,e),a=l.period(i,e);return l.slidePhaseAngle(360/n,o,a)}function p(t,n,i,r,o){return e.slidePhaseAngle(t,n,i,r,o)/360*l.period(o,n)}var d=t.Euclidean,l=t.Orbital;e.position=n,e.distance=i,e.connectability=r,e.hasStableArea=o,e.stableLimitSma=a,e.requiredBattery=c,e.requiredGenerator=u,e.slidePhaseAngle=h,e.slidePhaseTime=p}(e=t.Satellite||(t.Satellite={}))}(Calculator||(Calculator={}));var App;!function(t){"use strict";var e=function(){function t(){}return t.omni="omni",t.dish="dish",t}();t.AntennaType=e;var n=function(){function t(t,e,n,i){this.name=t,this.type=e,this.range=n,this.elcNeeded=i}return t.prototype.clone=function(){return new t(this.name,this.type,this.range,this.elcNeeded)},t}();t.Antenna=n}(App||(App={}));var App;!function(t){"use strict"}(App||(App={}));var App;!function(t){"use strict";var e=function(){function t(t,e,n,i,r){this.name=t,this.color=e,this.radius=n,this.stdGravity=i,this.soi=r}return t.prototype.clone=function(){return new t(this.name,this.color,this.radius,this.stdGravity,this.soi)},t}();t.Body=e}(App||(App={}));var App;!function(t){"use strict";var e=function(){function t(t,e,n,i,r,o,a){this.body=t,this.count=e,this.altitude=n,this.elcNeeded=i,this.antennas=r,this.antennaIndex=o,this.parkingAlt=a}return Object.defineProperty(t.prototype,"selectedAntenna",{get:function(){return this.antennas[this.antennaIndex].antenna},enumerable:!0,configurable:!0}),t}();t.SatChain=e}(App||(App={}));var App;!function(t){"use strict";var e=function(){function t(){}return t.stock="stock",t.rss="rss",t}();t.StockData=e;var n=function(){function t(t){this.stockData=t}return t}();t.Settings=n}(App||(App={}));var App;!function(t){"use strict";var e=function(){function t(){}return t.updateBody="updateBody",t.updateAntenna="updateAntenna",t.updateView="updateView",t}();t.Events=e;var n=function(){function t(t){this.$rootScope=t}return t.prototype.on=function(t,e){this.$rootScope.$on(t,e)},t.prototype.updateBody=function(){this.$rootScope.$emit(e.updateBody)},t.prototype.updateAntenna=function(){this.$rootScope.$emit(e.updateAntenna)},t.prototype.updateView=function(){this.$rootScope.$emit(e.updateView)},t.$inject=["$rootScope"],t}();t.EventService=n}(App||(App={}));var App;!function(t){"use strict";var e=function(){function t(t,e){this.$cookieStore=t,this.localStorage=e}return t.prototype.load=function(t,e){var n=this.localStorage.get(t);n||(n=this.$cookieStore.get(t),this.$cookieStore.remove(t));var i=this.localStorage.get(e);return{data:n,version:i}},t.prototype.setVersion=function(t,e){this.localStorage.set(t,e)},t.prototype.save=function(t,e){Object.keys(e).length>0?this.localStorage.set(t,e):this.localStorage.remove(t)},t.prototype.reset=function(){this.localStorage.clearAll()},t.$inject=["$cookieStore","localStorageService"],t}();t.StorageService=e}(App||(App={}));var App;!function(t){"use strict";var e=function(){function e(n){this.storageServ=n,this._stockAntennas={"Reflectron DP-10":new t.Antenna("Reflectron DP-10",t.AntennaType.omni,500,.01),"Communotron 16":new t.Antenna("Communotron 16",t.AntennaType.omni,2500,.13),"CommTech EXP-VR-2T":new t.Antenna("CommTech EXP-VR-2T",t.AntennaType.omni,3e3,.18),"Communotron 32":new t.Antenna("Communotron 32",t.AntennaType.omni,5e3,.6),"Comms DTS-M1":new t.Antenna("Comms DTS-M1",t.AntennaType.dish,5e4,.82),"Reflectron KR-7":new t.Antenna("Reflectron KR-7",t.AntennaType.dish,9e4,.82),"Communotron 88-88":new t.Antenna("Communotron 88-88",t.AntennaType.dish,4e7,.93),"Reflectron KR-14":new t.Antenna("Reflectron KR-14",t.AntennaType.dish,6e7,.93),"CommTech-1":new t.Antenna("CommTech-1",t.AntennaType.dish,35e7,2.6),"Reflectron GX-128":new t.Antenna("Reflectron GX-128",t.AntennaType.dish,4e8,2.8),"RSS Reflectron DP-10":new t.Antenna("RSS Reflectron DP-10",t.AntennaType.omni,1e9,.005),"RSS Communotron 16":new t.Antenna("RSS Communotron 16",t.AntennaType.omni,4e9,.002),"RSS CommTech EXP-VR-2T":new t.Antenna("RSS CommTech EXP-VR-2T",t.AntennaType.omni,1e10,.02),"RSS Communotron 32":new t.Antenna("RSS Communotron 32",t.AntennaType.omni,8e9,.004),"RSS Comms DTS-M1":new t.Antenna("RSS Comms DTS-M1",t.AntennaType.dish,4e5,.02),"RSS Reflectron KR-7":new t.Antenna("RSS Reflectron KR-7",t.AntennaType.dish,2e8,.18),"RSS Communotron 88-88":new t.Antenna("RSS Communotron 88-88",t.AntennaType.dish,15e8,.35),"RSS Reflectron KR-14":new t.Antenna("RSS Reflectron KR-14",t.AntennaType.dish,1e9,.2),"RSS CommTech-1":new t.Antenna("RSS CommTech-1",t.AntennaType.dish,4e9,.2),"RSS Reflectron GX-128":new t.Antenna("RSS Reflectron GX-128",t.AntennaType.dish,8e9,.65)};var i=n.load(e.dataKey,e.versionKey);this._userAntennas=i.data?this.unpack(this.update(i.data,i.version)):{},this.save(),n.setVersion(e.versionKey,e.modelVersion)}return Object.defineProperty(e.prototype,"stockAntennas",{get:function(){return this._stockAntennas},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userAntennas",{get:function(){return this._userAntennas},enumerable:!0,configurable:!0}),e.prototype.get=function(t){return-1!==Object.keys(this.stockAntennas).indexOf(t)?this.stockAntennas[t].clone():-1!==Object.keys(this.userAntennas).indexOf(t)?this.userAntennas[t].clone():void 0},e.prototype.set=function(t,e){this.userAntennas[t]=e.clone()},e.prototype.remove=function(t){delete this.userAntennas[t]},e.prototype.save=function(){this.storageServ.save(e.dataKey,this.pack(this.userAntennas))},e.prototype.pack=function(t){var e={};for(var n in t){var i=t[n];e[n]={name:i.name,type:i.type,range:i.range,elcNeeded:i.elcNeeded}}return e},e.prototype.unpack=function(e){var n={};for(var i in e){var r=e[i];n[i]=new t.Antenna(r.name,r.type,r.range,r.elcNeeded)}return n},e.prototype.update=function(e,n){if(void 0===n){for(var i in e)0==e[i].type?e[i].type="0":1==e[i].type&&(e[i].type="1");n=1}if(1===n){for(var i in e)"0"===e[i].type?e[i].type=t.AntennaType.omni:"1"===e[i].type&&(e[i].type=t.AntennaType.dish);n=2}return e},e.dataKey="userAntenna",e.versionKey="userAntennaVersion",e.modelVersion=2,e.$inject=["storageServ"],e}();t.AntennaDictionaryService=e}(App||(App={}));var App;!function(t){"use strict";var e=function(){function e(n){this.storageServ=n,this._stockBodies={Kerbol:new t.Body("Kerbol","rgb(255,242,0)",261600,1172332800,Number.POSITIVE_INFINITY),Moho:new t.Body("Moho","rgb(185,122,87)",250,168.60938,9646.663),Eve:new t.Body("Eve","rgb(163,73,164)",700,8171.7302,85109.365),Gilly:new t.Body("Gilly","rgb(239,228,176)",13,.0082894498,126.12327),Kerbin:new t.Body("Kerbin","rgb(63,111,40)",600,3531.6,84159.286),Mun:new t.Body("Mun","rgb(127,127,127)",200,65.138398,2429.5591),Minmus:new t.Body("Minmus","rgb(153,217,234)",60,1.7658,2247.4284),Duna:new t.Body("Duna","rgb(237,28,36)",320,301.36321,47921.949),Ike:new t.Body("Ike","rgb(127,127,127)",130,18.568369,1049.5989),Dres:new t.Body("Dres","rgb(195,195,195)",138,21.484489,32832.84),Jool:new t.Body("Jool","rgb(92,231,58)",6e3,282528,2455985.2),Laythe:new t.Body("Laythe","rgb(25,55,98)",500,1962,3723.6458),Vall:new t.Body("Vall","rgb(82,133,141)",300,207.4815,2406.4014),Tylo:new t.Body("Tylo","rgb(195,195,195)",600,4523.8934,10856.518),Bop:new t.Body("Bop","rgb(142,106,51)",65,2.4868349,1221.0609),Pol:new t.Body("Pol","rgb(206,211,1)",44,.72170208,1042.1389),Eeloo:new t.Body("Eeloo","rgb(221,221,210)",210,74.410815,119082.94),Mercury:new t.Body("Mercury","rgb(185,122,87)",2439,22026,112410),Venus:new t.Body("Venus","rgb(163,73,164)",6051,324670,616210),Earth:new t.Body("Earth","rgb(63,111,40)",6371,398600,923895),Moon:new t.Body("Moon","rgb(127,127,127)",1737,4900,66167),Mars:new t.Body("Mars","rgb(237,28,36)",3380,42811,577231),Phobos:new t.Body("Phobos","rgb(142,106,51)",7,715e-6,27),Deimos:new t.Body("Deimos","rgb(239,228,176)",5.456,98716e-9,25),Jupiter:new t.Body("Jupiter","rgb(92,231,58)",69911,127e6,48190353),Io:new t.Body("Io","rgb(206,211,1)",1811,5957.6,7841),Europa:new t.Body("Europa","rgb(221,221,210)",1550,3201.5,9728),Ganymede:new t.Body("Ganymede","rgb(195,195,195)",2624,9884.3,10856.518),Callisto:new t.Body("Callisto","rgb(127,127,127)",2409,7176.5,37706),Saturn:new t.Body("Saturn","rgb(195,195,195)",60268,379e5,54468720),Titan:new t.Body("Titan","rgb(25,55,98)",2566,8972.5,43324),Uranus:new t.Body("Uranus","rgb(153,217,234)",25559,579e4,51686225),Pluto:new t.Body("Pluto","rgb(82,133,141)",1143,870.44,3116132)};var i=n.load(e.dataKey,e.versionKey);this._userBodies=i.data?this.unpack(this.update(i.data,i.version)):{},this.save(),n.setVersion(e.versionKey,e.modelVersion)}return Object.defineProperty(e.prototype,"stockBodies",{get:function(){return this._stockBodies},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userBodies",{get:function(){return this._userBodies},enumerable:!0,configurable:!0}),e.prototype.get=function(t){return-1!==Object.keys(this.stockBodies).indexOf(t)?this.stockBodies[t].clone():-1!==Object.keys(this.userBodies).indexOf(t)?this.userBodies[t].clone():void 0},e.prototype.set=function(t,e){this.userBodies[t]=e.clone()},e.prototype.remove=function(t){delete this.userBodies[t]},e.prototype.save=function(){this.storageServ.save(e.dataKey,this.pack(this.userBodies))},e.prototype.pack=function(t){var e={};for(var n in t){var i=t[n];e[n]={name:i.name,color:i.color,radius:i.radius,stdGravity:i.stdGravity,soi:i.soi}}return e},e.prototype.unpack=function(e){var n={};for(var i in e){var r=e[i];n[i]=new t.Body(r.name,r.color,r.radius,r.stdGravity,r.soi)}return n},e.prototype.update=function(t,e){return t},e.dataKey="userBody",e.versionKey="userBodyVersion",e.modelVersion=1,e.$inject=["storageServ"],e}();t.BodyDictionaryService=e}(App||(App={}));var App;!function(t){"use strict";var e=function(){function e(n,i,r,o){var a=this;this.eventServ=n,this.storageServ=i,this.bodyDictServ=r,this.antennaDictServ=o;var s=i.load(e.dataKey,e.versionKey);this._satChain=s.data?this.unpack(this.update(s.data,s.version)):new t.SatChain(r.get("Kerbin"),4,1e3,.029,[{antenna:o.get("Communotron 16"),quantity:1}],0,70),this.save(),i.setVersion(e.versionKey,e.modelVersion),n.on(t.Events.updateBody,function(t){a.updateBody()}),n.on(t.Events.updateAntenna,function(t){a.updateAntenna()})}return Object.defineProperty(e.prototype,"satChain",{get:function(){return this._satChain},enumerable:!0,configurable:!0}),e.prototype.updateBody=function(){var t=this.bodyDictServ.get(this.satChain.body.name);this.satChain.body.name=t.name,this.satChain.body.color=t.color,this.satChain.body.radius=t.radius,this.satChain.body.stdGravity=t.stdGravity,this.satChain.body.soi=t.soi},e.prototype.updateAntenna=function(){for(var t in this.satChain.antennas){var e=this.antennaDictServ.get(this.satChain.antennas[t].antenna.name);this.satChain.antennas[t].antenna.name=e.name,this.satChain.antennas[t].antenna.type=e.type,this.satChain.antennas[t].antenna.range=e.range,this.satChain.antennas[t].antenna.elcNeeded=e.elcNeeded}},e.prototype.save=function(){this.storageServ.save(e.dataKey,this.pack(this.satChain))},e.prototype.pack=function(t){var e={body:t.body.name,count:t.count,altitude:t.altitude,elcNeeded:t.elcNeeded,antennas:new Array,antennaIndex:t.antennaIndex,parkingAlt:t.parkingAlt};for(var n in this.satChain.antennas){var i=this.satChain.antennas[n];e.antennas.push({antenna:i.antenna.name,quantity:i.quantity})}return e},e.prototype.unpack=function(e){var n=new t.SatChain(this.bodyDictServ.get(e.body),e.count,e.altitude,e.elcNeeded,new Array,e.antennaIndex,e.parkingAlt);for(var i in e.antennas){var r=e.antennas[i];n.antennas.push({antenna:this.antennaDictServ.get(r.antenna),quantity:r.quantity})}return n},e.prototype.update=function(t,e){if(void 0===e&&(t.antennas=[{antenna:t.antenna,quantity:1}],t.antennaIndex=0,e=1),1===e){t.body=t.body.name;for(var n in t.antennas){var i=t.antennas[n];t.antennas[n]={antenna:i.antenna.name,quantity:i.quantity}}e=2}return t},e.dataKey="inputData",e.versionKey="inputDataVersion",e.modelVersion=2,e.$inject=["eventServ","storageServ","bodyDictServ","antennaDictServ"],e}();t.SatChainService=e}(App||(App={}));var App;!function(t){"use strict";var e=function(){function e(n){this.storageServ=n;var i=n.load(e.dataKey,e.versionKey);this._settings=i.data?this.unpack(this.update(i.data,i.version)):new t.Settings(t.StockData.stock),this.save(),n.setVersion(e.versionKey,e.modelVersion)}return Object.defineProperty(e.prototype,"settings",{get:function(){return this._settings},enumerable:!0,configurable:!0}),e.prototype.save=function(){this.storageServ.save(e.dataKey,this.pack(this.settings))},e.prototype.pack=function(t){var e={stockData:t.stockData};return e},e.prototype.unpack=function(e){return new t.Settings(e.stockData)},e.prototype.update=function(t,e){return t},e.dataKey="settings",e.versionKey="settingsVersion",e.modelVersion=1,e.$inject=["storageServ"],e}();t.SettingsService=e}(App||(App={}));var App;!function(t){"use strict";var e=function(){function e(t,e,n){this.eventServ=t,this.antennaDictServ=e,this.satChainServ=n,this.userAntennas=e.userAntennas,this.sc=n.satChain,this.isInEdit=!1,this.editData=void 0}return e.prototype.isUsed=function(t){var e=!1;for(var n in this.sc.antennas)this.sc.antennas[n].antenna.name===t&&(e=!0);return e},e.prototype.add=function(){this.editData=new t.Antenna("",t.AntennaType.omni,0,0),this.isInEdit=!0},e.prototype.cancel=function(){this.isInEdit=!1},e.prototype.edit=function(t){this.editData=this.antennaDictServ.get(t),this.isInEdit=!0},e.prototype.remove=function(t){this.isInEdit=!1,this.antennaDictServ.remove(t),this.antennaDictServ.save()},e.prototype.onValidSubmit=function(){this.isInEdit=!1,this.antennaDictServ.set(this.editData.name,this.editData),this.antennaDictServ.save(),this.eventServ.updateAntenna(),this.eventServ.updateView()},e.$inject=["eventServ","antennaDictServ","satChainServ"],e}();t.AntennaEditController=e}(App||(App={}));var App;!function(t){"use strict";var e=function(){function e(t,e,n){this.eventServ=t,this.bodyDictServ=e,this.satChainServ=n,this.userBodies=e.userBodies,this.sc=n.satChain,this.isInEdit=!1,this.editData=void 0}return e.prototype.isUsed=function(t){return this.sc.body.name===t},e.prototype.add=function(){this.editData=new t.Body("","",0,0,0),this.isInEdit=!0},e.prototype.cancel=function(){this.isInEdit=!1},e.prototype.edit=function(t){this.editData=this.bodyDictServ.get(t),this.isInEdit=!0},e.prototype.remove=function(t){this.isInEdit=!1,this.bodyDictServ.remove(t),this.bodyDictServ.save()},e.prototype.onValidSubmit=function(){this.isInEdit=!1,this.bodyDictServ.set(this.editData.name,this.editData),this.bodyDictServ.save(),this.eventServ.updateBody(),this.eventServ.updateView()},e.$inject=["eventServ","bodyDictServ","satChainServ"],e}();t.BodyEditController=e}(App||(App={}));var App;!function(t){"use strict";var e=Calculator.Satellite,n=function(){function n(e,n){var i=this;this.eventServ=e,this.satChainServ=n,this.real=800,this.sc=this.satChainServ.satChain,this.position=[],this.connection=[],this.distance=[],e.on(t.Events.updateView,function(t){i.updatePosition(),i.updateConnectStatus()}),e.updateView()}return Object.defineProperty(n.prototype,"virtual",{get:function(){return 2*(this.sc.body.radius+this.sc.altitude+this.sc.selectedAntenna.range)*1.05},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasStable",{get:function(){return e.hasStableArea(this.sc.body.radius,this.sc.count,this.sc.body.radius+this.sc.altitude,this.sc.selectedAntenna.range)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stableSma",{get:function(){return e.stableLimitSma(this.sc.count,this.sc.body.radius+this.sc.altitude,this.sc.selectedAntenna.range)},enumerable:!0,configurable:!0}),n.prototype.updatePosition=function(){var t=e.position(this.sc.count,this.sc.body.radius+this.sc.altitude);this.position.splice(t.length);for(var n in t)this.position[n]=t[n]},n.prototype.updateConnectStatus=function(){var t=e.connectability(this.sc.body.radius,this.sc.count,this.sc.body.radius+this.sc.altitude,this.sc.selectedAntenna.range),n=e.distance(this.sc.count,this.sc.body.radius+this.sc.altitude),i=this.sc.count<=4?1:2;this.connection.splice(i),this.distance.splice(i);for(var r=0;i>r;r++)this.connection[r]=t[r+1],this.distance[r]=n[r+1]},n.$inject=["eventServ","satChainServ"],n}();t.EntireViewController=n}(App||(App={}));var App;!function(t){"use strict";var e=function(){function t(t,e,n,i,r){this.settingsServ=t,this.eventServ=e,this.satChainServ=n,this.bodies=i,this.antennas=r,this.sc=this.satChainServ.satChain,this.settings=this.settingsServ.settings}return t.prototype.isSelectedAntenna=function(t){return this.sc.antennaIndex===t},t.prototype.onChange=function(){this.satChainServ.save(),this.eventServ.updateView()},t.prototype.onBodyChange=function(){this.eventServ.updateBody(),this.onChange()},t.prototype.onAntennaChange=function(){this.eventServ.updateAntenna(),this.onChange()},t.prototype.setAntennaIndex=function(t){this.sc.antennaIndex=t,this.onChange()},t.prototype.onAddAntenna=function(){this.sc.antennas.push({antenna:this.antennas.get("Reflectron DP-10"),quantity:1}),this.onAntennaChange()},t.prototype.onRemoveSelectedAntenna=function(){this.sc.antennas.splice(this.sc.antennaIndex,1),this.sc.antennaIndex===this.sc.antennas.length&&this.sc.antennaIndex--,this.onAntennaChange()},t.$inject=["settingsServ","eventServ","satChainServ","bodyDictServ","antennaDictServ"],t}();t.InputController=e}(App||(App={}));var App;!function(t){"use strict";var e=Calculator.Orbital,n=function(){function t(t){this.satChainServ=t,this.sc=this.satChainServ.satChain,this.body=this.sc.body}return Object.defineProperty(t.prototype,"higherPeriod",{get:function(){return e.period(this.body.radius+this.sc.altitude,this.body.stdGravity)*(this.sc.count+1)/this.sc.count},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ap",{get:function(){return 2*e.sma(this.body.stdGravity,this.higherPeriod)-(this.sc.altitude+2*this.body.radius)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lowerPeriod",{get:function(){return e.period(this.body.radius+this.sc.altitude,this.body.stdGravity)*(this.sc.count-1)/this.sc.count},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pe",{get:function(){return 2*e.sma(this.body.stdGravity,this.lowerPeriod)-(this.sc.altitude+2*this.body.radius)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"higherDV",{get:function(){return e.hohmannStartDV(this.body.radius+this.sc.altitude,this.body.radius+this.ap,this.body.stdGravity)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lowerDV",{get:function(){return e.hohmannStartDV(this.body.radius+this.sc.altitude,this.body.radius+this.pe,this.body.stdGravity)},enumerable:!0,configurable:!0}),t.$inject=["satChainServ"],t}();t.MultiLaunchViewController=n}(App||(App={}));var App;!function(t){"use strict";var e=Calculator.Orbital,n=Calculator.Satellite,i=function(){function t(t){this.satChainServ=t,this.sc=this.satChainServ.satChain,this.body=this.sc.body}return Object.defineProperty(t.prototype,"period",{get:function(){return e.period(this.body.radius+this.sc.altitude,this.body.stdGravity)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nightTime",{get:function(){return e.nightTime(this.body.radius,this.body.radius+this.sc.altitude,this.body.stdGravity)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reqGen",{get:function(){var t=[],e=[];for(var i in this.sc.antennas)t.push(this.sc.antennas[i].antenna.elcNeeded),e.push(this.sc.antennas[i].quantity);return n.requiredGenerator(this.sc.elcNeeded,t,e,this.body.radius,this.body.stdGravity,this.body.radius+this.sc.altitude)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reqBatt",{get:function(){var t=[],e=[];for(var i in this.sc.antennas)t.push(this.sc.antennas[i].antenna.elcNeeded),e.push(this.sc.antennas[i].quantity);return n.requiredBattery(this.sc.elcNeeded,t,e,this.body.radius,this.body.stdGravity,this.body.radius+this.sc.altitude)},enumerable:!0,configurable:!0}),t.$inject=["satChainServ"],t}();t.NightViewController=i}(App||(App={}));var App;!function(t){"use strict";var e=function(){function t(t,e){this.settingsServ=t,this.storageServ=e,this.settings=this.settingsServ.settings}return t.prototype.onChange=function(){this.settingsServ.save()},t.prototype.onResetConfirm=function(){this.storageServ.reset(),location.replace(location.protocol+"//"+location.host)},t.$inject=["settingsServ","storageServ"],t}();t.SettingsController=e}(App||(App={}));var App;!function(t){"use strict";var e=Calculator.Orbital,n=function(){function t(t){this.satChainServ=t,this.sc=this.satChainServ.satChain,this.body=this.sc.body}return Object.defineProperty(t.prototype,"startDV",{get:function(){return 1e3*e.hohmannStartDV(this.body.radius+this.sc.parkingAlt,this.body.radius+this.sc.altitude,this.body.stdGravity)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"finishDV",{get:function(){return 1e3*e.hohmannFinishDV(this.body.radius+this.sc.parkingAlt,this.body.radius+this.sc.altitude,this.body.stdGravity)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slideAngle",{get:function(){var t=e.period(this.body.radius+this.sc.parkingAlt,this.body.stdGravity),n=e.period(this.body.radius+this.sc.altitude,this.body.stdGravity);return e.slidePhaseAngle(360/this.sc.count,t,n)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slideTime",{get:function(){return this.slideAngle/360*e.period(this.body.radius+this.sc.parkingAlt,this.body.stdGravity)},enumerable:!0,configurable:!0}),t.$inject=["satChainServ"],t}();t.SingleLaunchViewController=n}(App||(App={}));var App;!function(t){"use strict";function e(){return{templateUrl:"app/directives/foldingDiv/foldingDetailTemplate.html",transclude:!0,scope:{}}}t.foldingDetail=e}(App||(App={}));var App;!function(t){"use strict";function e(){return function(e){return e===t.AntennaType.omni?"Omnidirectional":e===t.AntennaType.dish?"Dish":void 0}}t.antennaType=e}(App||(App={}));var App;!function(t){"use strict";function e(){return function(t,e){switch(e){case"length":for(var o=0;t>=r&&o<n.length-1;)t/=i,o++;return""+t.toLocaleString()+" "+n[o];case"time":return""+parseFloat(t.toFixed(1)).toLocaleString()+" sec.";case"speed":return""+parseFloat(t.toFixed(1)).toLocaleString()+" m/s";default:return t.toLocaleString()}}}var n=["km","Mm","Gm","Tm"],i=1e3,r=1e4;t.format=e}(App||(App={}));var App;!function(t){"use strict";function e(){return function(t,e,n){return t*e/n}}t.scale=e}(App||(App={}));var App;!function(t){"use strict";angular.module("app",["ngCookies","LocalStorageModule"]).config(["localStorageServiceProvider",function(t){t.setPrefix("kspRemoteTechPlanner")}]).service("settingsServ",t.SettingsService).service("eventServ",t.EventService).service("storageServ",t.StorageService).service("bodyDictServ",t.BodyDictionaryService).service("antennaDictServ",t.AntennaDictionaryService).service("satChainServ",t.SatChainService).controller("settingsCtrl",t.SettingsController).controller("inputCtrl",t.InputController).controller("entireViewCtrl",t.EntireViewController).controller("nightViewCtrl",t.NightViewController).controller("singleLaunchViewCtrl",t.SingleLaunchViewController).controller("multiLaunchViewCtrl",t.MultiLaunchViewController).controller("bodyEditCtrl",t.BodyEditController).controller("antennaEditCtrl",t.AntennaEditController).directive("foldingDetail",t.foldingDetail).filter("antennaType",t.antennaType).filter("format",t.format).filter("scale",t.scale)}(App||(App={}));